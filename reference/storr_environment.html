<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Environment object cache driver — storr_environment • storr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Environment object cache driver — storr_environment"><meta name="description" content="Fast but transient environment driver.  This driver saves objects
in a local R environment, without serialisation.  This makes
lookup fast but it cannot be saved across sessions.  The
environment storr can be made persistent by saving it out as a
file storr though."><meta property="og:description" content="Fast but transient environment driver.  This driver saves objects
in a local R environment, without serialisation.  This makes
lookup fast but it cannot be saved across sessions.  The
environment storr can be made persistent by saving it out as a
file storr though."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">storr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/storr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/external.html">external</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/richfitz/storr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Environment object cache driver</h1>
      <small class="dont-index">Source: <a href="https://github.com/richfitz/storr/blob/master/R/driver_environment.R" class="external-link"><code>R/driver_environment.R</code></a></small>
      <div class="d-none name"><code>storr_environment.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fast but transient environment driver.  This driver saves objects
in a local R environment, without serialisation.  This makes
lookup fast but it cannot be saved across sessions.  The
environment storr can be made persistent by saving it out as a
file storr though.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">storr_environment</span><span class="op">(</span></span>
<span>  envir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hash_algorithm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  default_namespace <span class="op">=</span> <span class="st">"objects"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">driver_environment</span><span class="op">(</span>envir <span class="op">=</span> <span class="cn">NULL</span>, hash_algorithm <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-envir">envir<a class="anchor" aria-label="anchor" href="#arg-envir"></a></dt>
<dd><p>The environment to point the storr at.  The default
creates an new empty environment which is generally the right
choice.  However, if you want multiple environment storrs
pointing at the same environment then pass the <code>envir</code>
argument along.</p></dd>


<dt id="arg-hash-algorithm">hash_algorithm<a class="anchor" aria-label="anchor" href="#arg-hash-algorithm"></a></dt>
<dd><p>Name of the hash algorithm to use.  Possible
values are "md5", "sha1", and others supported by
<a href="https://rdrr.io/pkg/digest/man/digest.html" class="external-link">digest::digest</a>.  If not given, then we will default to
"md5".</p></dd>


<dt id="arg-default-namespace">default_namespace<a class="anchor" aria-label="anchor" href="#arg-default-namespace"></a></dt>
<dd><p>Default namespace (see <a href="storr.html">storr</a>).</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create an environment and stick some random numbers into it:</span></span></span>
<span class="r-in"><span><span class="va">st</span> <span class="op">&lt;-</span> <span class="fu">storr_environment</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="st">"foo"</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.28989230 0.67838043 0.73531960 0.19595673 0.98053967 0.74152153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 0.05144628 0.53021246 0.69582388 0.68855600</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To make this environment persistent we can save it to disk:</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">st2</span> <span class="op">&lt;-</span> <span class="va">st</span><span class="op">$</span><span class="fu">archive_export</span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># st2 is now a storr_rds (see ?storr_rds), and will persist across</span></span></span>
<span class="r-in"><span><span class="co"># sessions.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or export to a new list:</span></span></span>
<span class="r-in"><span><span class="va">lis</span> <span class="op">&lt;-</span> <span class="va">st</span><span class="op">$</span><span class="fu">export</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lis</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $foo</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.28989230 0.67838043 0.73531960 0.19595673 0.98053967 0.74152153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 0.05144628 0.53021246 0.69582388 0.68855600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

